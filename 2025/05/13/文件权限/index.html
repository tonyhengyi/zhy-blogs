
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>文件权限 | zhy-blogs</title>
    <meta name="author" content="zhyneko" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/zhy-blogs/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/zhy-blogs/js/lib/highlight.js"></script>



<script src="/zhy-blogs/js/lib/preview.js"></script>









<link rel="stylesheet" href="/zhy-blogs/css/main.css" />

<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/zhy-blogs/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/zhy-blogs/">
            <span>ZHY-BLOGS</span>
        </a>
        
        <a href="/zhy-blogs/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/zhy-blogs/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/zhy-blogs/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/zhy-blogs/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/zhy-blogs/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;ZHY-BLOGS</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/zhy-blogs/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/zhy-blogs/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/zhy-blogs/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/zhy-blogs/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/zhy-blogs/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>文件权限</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/5/13
        </span>
        
        <span class="category">
            <a href="/zhy-blogs/categories/%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                编程实战
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/zhy-blogs/tags/Linux/" style="color: #00a596">
                    Linux
                </a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <h1 id="Linux的档案权限"><a href="#Linux的档案权限" class="headerlink" title="Linux的档案权限"></a>Linux的档案权限</h1><p>Linux最优秀的地方之一就在于他的多人多工环境。而为了让各个使用者具有较保密的档案资料，因此档案的权限管理就变的很重要了。 Linux一般将档案可存取的身份分为三个类别，分别是owner&#x2F;group&#x2F;others，且三种身份各有read&#x2F;write&#x2F;execute 等权限。</p>
<hr>
<h1 id="使用者与群组"><a href="#使用者与群组" class="headerlink" title="使用者与群组"></a>使用者与群组</h1><h2 id="档案拥有者-owner"><a href="#档案拥有者-owner" class="headerlink" title="档案拥有者(owner)"></a>档案拥有者(owner)</h2><p>Linux是个多人多工的系统，因此可能常常会有多人同时使用这部主机来进行工作的情况发生， 为了考虑每个人的隐私权以及每个人喜好的工作环境，因此，这个『档案拥有者』的角色就显的相当的重要了！<br>档案拥有者即创建档案的人。</p>
<h2 id="群组-group"><a href="#群组-group" class="headerlink" title="群组(group)"></a>群组(group)</h2><p>在Linux底下这样的限制是很简单啦！我可以经由简易的档案权限设定，就能限制非自己团队(亦即是群组啰) 的其他人不能够阅览内容啰！而且亦可以让自己的团队成员可以修改我所建立的档案！ 同时，如果我自己还有私人隐密的文件，仍然可以设定成让自己的团队成员也看不到我的档案资料。 </p>
<p>可以将家庭空间比作档案，每个家庭成员都是各自卧室的档案拥有者，别的成员不能随意翻动自己的东西，但家里面的客厅就是公共空间，大家都能在客厅里活动，也就是属于群组的内容。</p>
<p>也可以通过设置每个档案的权限改变上面所说的内容。</p>
<h2 id="其他人-others"><a href="#其他人-others" class="headerlink" title="其他人(others)"></a>其他人(others)</h2><p>也就是不属于刚刚所说的家庭成员的人，是不能够进入客厅更别说房间了。</p>
<h1 id="Linux-档案权限概念"><a href="#Linux-档案权限概念" class="headerlink" title="Linux 档案权限概念"></a>Linux 档案权限概念</h1><p>切换到超级用户查看各个档案的权限</p>
<pre><code class="language-shell">zhy_clound@iZ2zefhns847t1cynpxco5Z:~$ su -
Password: 
root@iZ2zefhns847t1cynpxco5Z:~# ls -al
total 64
drwx------ 11 root root 4096 Jun  1 22:06 .
drwxr-xr-x 19 root root 4096 Jun  1 21:45 ..
-rw-------  1 root root   68 Jun  1 22:06 .bash_history
-rw-r--r--  1 root root 3106 Oct 15  2021 .bashrc
drwx------  2 root root 4096 May  8 11:27 .cache
drwx------  3 root root 4096 Jun  1 21:57 .config
drwxr-xr-x  3 root root 4096 Jun  1 21:55 .dotnet
drwx------  3 root root 4096 Jun  1 21:57 .local
drwxr-xr-x  2 root root 4096 May  8 11:42 .pip
-rw-r--r--  1 root root  161 Jul  9  2019 .profile
-rw-r--r--  1 root root   72 May  8 11:42 .pydistutils.cfg
drwxr-xr-x  2 root root 4096 May  8 11:42 .rpmdb
drwx------  3 root root 4096 May  8 11:26 snap
drwx------  2 root root 4096 May  8 11:26 .ssh
drwxr-xr-x  5 root root 4096 Jun  1 21:55 .vscode-server
-rw-r--r--  1 root root  183 Jun  1 21:54 .wget-hsts
root@iZ2zefhns847t1cynpxco5Z:~# 
</code></pre>
<p><img src="/zhy-blogs/image.png" alt="alt text"></p>
<pre><code class="language-shell">-rw-r--r--  1 root root  183 Jun  1 21:54 .wget-hsts
</code></pre>
<p>其中第一栏表示档案类型与权限</p>
<ul>
<li><p>第一个字元代表这个档案是『目录、档案或连结档等等』<br>·当为[ d ]则是目录<br>·当为[ - ]则是档案<br>·若是[ l ]则表示为连结档(link file)<br>·若是[ b ]则表示为装置档里面的可供储存的周边设备(可随机存取装置)；<br>·若是[ c ]则表示为装置档里面的序列埠设备，例如键盘、滑鼠(一次性读取装置)。</p>
</li>
<li><p>接下来的字元中，以三个为一组，且均为『rwx』 的三个参数的组合。其中，[ r ]代表可读(read)、[ w ]代表可写(write)、[ x ]代表可执行(execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号[ - ]而已。<br>  第一组为『档案拥有者可具备的权限』，以上面档案为例， 该档案的拥有者可以读写，但不可执行；<br>  第二组为『加入此群组之帐号的权限』；<br>  第三组为『非本人且没有加入本群组之其他帐号的权限』。</p>
</li>
</ul>
<pre><code>例题：
    若有一个档案的类型与权限资料为『-rwxr-xr--』，请说明其意义为何？
答：
    先将整个类型与权限资料分开查阅，并将十个字元整理成为如下所示：
    [-][rwx][rx-][r--]
    1   234  567 890
    1 为：代表这个档名为目录或档案，本例中为档案(-)；
    234为：拥有者的权限，本例中为可读、可写、可执行(rwx)；
    567为：同群组使用者权限，本例中为可读可执行(rx)；
    890为：其他使用者权限，本例中为可读(r)，就是唯读之意

同时注意到，rwx所在的位置是不会改变的，有该权限就会显示字元，没有该权限就变成减号(-)就是了。
</code></pre>
<p>第二栏表示有多少档名连结到此节点(i-node)：<br>第三栏表示这个档案的拥有者<br>第四栏表示这个档案的所属群组<br>第五栏表示这个档案的大小<br>第六栏为这个档案的建档日期或者是最近的修改日期：<br>第七栏为这个档案的档名<br>    如果前面加了一个.的话说明是隐藏档案</p>
<h1 id="如何改变Linux的档案权限"><a href="#如何改变Linux的档案权限" class="headerlink" title="如何改变Linux的档案权限"></a>如何改变Linux的档案权限</h1><p>通过命令</p>
<ul>
<li>chgrp ：改变档案所属群组</li>
<li>chown ：改变档案拥有者</li>
<li>chmod ：改变档案的权限, SUID, SGID, SBIT等等的特性</li>
</ul>
<hr>
<h2 id="改变所属群组-chgrp"><a href="#改变所属群组-chgrp" class="headerlink" title="改变所属群组, chgrp"></a>改变所属群组, chgrp</h2><p>change group的缩写<br>要被改变的群组名称必须要在&#x2F;etc&#x2F;group档案内存在才行，否则就会显示错误！</p>
<p>假设在&#x2F;etc&#x2F;group里面已经存在一个名为users的群组， 但是testing这个群组名字就不存在&#x2F;etc&#x2F;group当中</p>
<pre><code class="language-shell">[root@study ~]# chgrp [-R] dirname/filename ...
选项与参数：
-R : 进行递回(recursive)的持续变更，亦即连同次目录下的所有档案、目录
     都更新成为这个群组之意。常常用在变更某一目录内所有的档案之情况。
范例： 
[root@study ~]# chgrp users initial-setup-ks.cfg 
[root@study ~]# ls -l 
-rw-r--r--. 1 root users 1864 May 4 18:01 initial-setup -ks.cfg
[root@study ~]# chgrp testing initial-setup-ks.cfg 
chgrp: invalid group: `testing&#39; &lt;== 发生错误讯息啰～找不到这个群组名～
</code></pre>
<h2 id="改变档案拥有者-chown"><a href="#改变档案拥有者-chown" class="headerlink" title="改变档案拥有者, chown"></a>改变档案拥有者, chown</h2><p>change owner的缩写<br>语法如下</p>
<pre><code class="language-shell">[root@study ~]# chown [-R] 帐号名称档案或目录
[root@study ~]# chown [-R] 帐号名称:群组名称档案或目录
选项与参数：
-R : 进行递回(recursive)的持续变更，亦即连同次目录下的所有档案都变更

范例：将initial-setup-ks.cfg 的拥有者改为bin这个帐号： 
[root@study ~]# chown bin initial-setup-ks.cfg 
[root@study ~]# ls -l 
-rw-r- -r--. 1 bin   users 1864 May 4 18:01 initial-setup-ks.cfg

范例：将initial-setup-ks.cfg 的拥有者与群组改回为root： 
[root@study ~]# chown root:root initial-setup-ks.cfg 
[root@study ~]# ls -l 
- rw-r--r--. 1 root root 1864 May 4 18:01 initial-setup-ks.cfg
</code></pre>
<p>一个常用的使用改变权限的场景是在复制使用别人的档案时候</p>
<pre><code class="language-shell">[root@study ~]# cp .bashrc .bashrc_test 
[root@study ~]# ls -al .bashrc*
-rw-r--r--. 1 root root 176 Dec 29 2013 .bashrc
-rw-r--r--. 1 root root 176 Jun 3 00:04 .bashrc_test    &lt;==新档案的属性没变
</code></pre>
<p>先把两个隐藏的文档粘贴过来，可以看到档案的属性还是root，其他用户无权更改，所以此时需要更改档案的权限，拥有者………</p>
<h2 id="改变权限-chmod"><a href="#改变权限-chmod" class="headerlink" title="改变权限, chmod"></a>改变权限, chmod</h2><p>改变权限有几种不同的方式</p>
<h3 id="使用数字来改变权限"><a href="#使用数字来改变权限" class="headerlink" title="使用数字来改变权限"></a>使用数字来改变权限</h3><p>-rw-r–r–<br>例如对于这段字符来说，使用二进制来解析<br>owner &#x3D; rw- &#x3D; 4+2+0 &#x3D; 6<br>group &#x3D; r– &#x3D; 4+0+0 &#x3D; 4<br>others&#x3D; r– &#x3D; 4+0+0 &#x3D; 4<br>此时的语法是这样的</p>
<pre><code class="language-shell">[root@study ~]# chmod [-R] xyz 档案或目录
选项与参数：
xyz : 就是刚刚提到的数字类型的权限属性，为rwx 属性数值的相加。
-R : 进行递回(recursive)的持续变更，亦即连同次目录下的所有档案都会变更
</code></pre>
<p>范例如下</p>
<pre><code class="language-shell">[root@study ~]# ls -al .bashrc 
-rw-r--r-- . 1 root root 176 Dec 29 2013 .bashrc
[root@study ~]# chmod 777 .bashrc 
[root@study ~]# ls -al .bashrc 
-rwxrwxrwx . 1 root root 176 Dec 29 2013 .bashrc
</code></pre>
<h3 id="使用符号来改变权限"><a href="#使用符号来改变权限" class="headerlink" title="使用符号来改变权限"></a>使用符号来改变权限</h3><p>基本上就九个权限分别是(1)user (2)group (3)others三种身份啦！那么我们就可以藉由u, g, o来代表三种身份的权限！此外，a则代表all 亦即全部的身份！那么读写的权限就可以写成r, w, x</p>
<p>假如我们要『设定』一个档案的权限成为『-rwxr-xr-x』时，基本上就是：</p>
<p>user (u)：具有可读、可写、可执行的权限；<br>group 与others (g&#x2F;o)：具有可读与执行的权限。</p>
<pre><code class="language-shell">[root@study ~]# chmod u=rwx,go=rx .bashrc 
# 注意喔！那个u=rwx,go=rx 是连在一起的，中间并没有任何空白字元！ 
[root@study ~]# ls -al .bashrc 
-rwxr-xr-x . 1 root root 176 Dec 29 2013 .bashrc
</code></pre>
<p>如果想要人均添加读的权限</p>
<pre><code class="language-shell">[root@study ~]# ls -al .bashrc 
-rwxr-xr-x . 1 root root 176 Dec 29 2013 .bashrc
[root@study ~]# chmod a+w .bashrc 
[root@study ~]# ls -al .bashrc 
-rwxrwxrwx . 1 root root 176 Dec 29 2013 .bashrc
</code></pre>

    </div>
    
    
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2025 zhy-blogs
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;zhyneko
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/zhy-blogs/js/main.js"></script>
    
    




    
</body>
</html>
